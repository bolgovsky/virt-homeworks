
# Домашнее задание к занятию "5.2. Применение принципов IaaC в работе с виртуальными машинами"

---

## Задача 1

- Опишите своими словами основные преимущества применения на практике IaaC паттернов.
*  Ускорение производства - автоматизируя инфраструктуру как код её значительно быстрее создавать, тестировать и масштабировать по мере необходимости  
*  За счёт применения IaaC среда исполнения кода становится значительно более стабильной(однородной) на всех этапах жизненного цикла (разработки, тестирования и развёртывания) 
*  В целом все это приводит к более быстрой и эффективной разработке самого продукта (снижаются накладные расходы на построение инфраструктуры, ускоряется каждый этап жизненного цикла продукта)


- Какой из принципов IaaC является основополагающим?
Идемпоте́нтность (лат.idem — тот же самый + potens — способный)—это свойство объекта или операции, при повторном выполнении которой мы получаем результат идентичный предыдущему и всем последующим выполнениям. 

---

## Задача 2

- Чем Ansible выгодно отличается от других систем управление конфигурациями?

_Как правило остальные инструменты сложнее и требуют установки агентов на хост. Система Ansible — имеет простую архитектуру, не требует установки на узлы специального программного обеспечения, использует SSH для выполнения задач автоматизации и файлы YAML для определения деталей выделения ресурсов_

- Какой, на ваш взгляд, метод работы систем конфигурации более надёжный push или pull?
  
_Исходя из того, что я начитал, есть и плюсы, и минусы у обоих методов (не просто так используют гибридные методы), особенно если по разному интерпретировать термин "надежный"- в плане доставки или в плане настройки безопасности:_

`push` - _проще управлять секретами, централизованная подготовка и доставка конфигураций, но сильная привязка к серверу управления конфигурациями и, следовательно, сложности с миграциями на новые системы._

`pull` - _проще доставлять конфигурации, но нужны агенты на хостах, сложнее организовывать управление секретами._

---

## Задача 3

Установить на личный компьютер:

- VirtualBox
- Vagrant
- Ansible

*Приложить вывод команд установленных версий каждой из программ, оформленный в markdown.*

Хост: Windows 10
Ansible - через Cygwin

```bash
VBoxManage -v
6.1.32r149290

vagrant -v
Vagrant 2.2.19

ansible --version
ansible 2.8.4
  config file = /etc/ansible/ansible.cfg
  configured module search path = ['/home/Денис/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /usr/lib/python3.7/site-packages/ansible
  executable location = /usr/bin/ansible
  python version = 3.7.12 (default, Nov 23 2021, 18:58:07) [GCC 11.2.0]
```

## Задача 4 (*)

Воспроизвести практическую часть лекции самостоятельно.

- Создать виртуальную машину.
- Зайти внутрь ВМ, убедиться, что Docker установлен с помощью команды



В связке Windows 10+VirtualBox+vagrant+cygwin+ansible добиться корректного выполнения ВСЕХ задач не получилось... 

Будет время- буду пробовать Ubuntu+VirtualBox+vagrant+ansible

Руководства, которые я использовал:

https://phoenixnap.com/kb/install-ansible-on-windows

https://www.azavea.com/blog/2014/10/30/running-vagrant-with-ansible-provisioning-on-windows/

и да, я использовал provision `ansible_local`  и переделывал файлы ansible для запуска внутри 1 ВМ. 

Тем не менее отрицательный опыт - тоже опыт)

```
root@server1:/home/vagrant# docker ps
CONTAINER ID   IMAGE     COMMAND   CREATED   STATUS    PORTS     NAMES
```

